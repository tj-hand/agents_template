{
  "sprint": 12,
  "start_date": "2025-11-18",
  "end_date": "2025-12-01",
  "goal": "Implementar autenticação Microsoft Entra no HandBI",
  "epic": "EPIC-001",
  "metrics": {
    "total_points": 21,
    "completed_points": 8,
    "tasks": {
      "total": 8,
      "todo": 3,
      "in_progress": 2,
      "done": 3,
      "blocked": 0
    }
  },
  "tasks": [
    {
      "id": "TASK-001",
      "title": "Configurar Azure App Registration",
      "agent": "DevOps Agent",
      "status": "DONE",
      "priority": "P0",
      "story_points": 2,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": "2025-11-18T10:30:00Z",
      "completed_at": "2025-11-18T14:30:00Z",
      "context": "Necessário para configurar OAuth2 flow com Microsoft",
      "acceptance_criteria": [
        "App Registration criado no Azure Portal",
        "Client ID e Secret gerados",
        "Redirect URLs configuradas",
        "Permissões de API definidas"
      ],
      "dependencies": [],
      "notes": "App registration criado com sucesso. Client ID: abc123xyz"
    },
    {
      "id": "TASK-002",
      "title": "Criar schemas de autenticação no banco",
      "agent": "Database Agent",
      "status": "DONE",
      "priority": "P0",
      "story_points": 3,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": "2025-11-18T15:00:00Z",
      "completed_at": "2025-11-19T11:00:00Z",
      "context": "Tabelas para armazenar tokens e sessões de usuário",
      "acceptance_criteria": [
        "Tabela users_auth criada",
        "Tabela refresh_tokens criada",
        "Migrations Alembic geradas",
        "Índices de performance adicionados"
      ],
      "dependencies": [],
      "notes": "Schema criado. Migration: alembic/versions/001_add_auth_tables.py"
    },
    {
      "id": "TASK-003",
      "title": "Implementar UI de login",
      "agent": "Vue Agent",
      "status": "DONE",
      "priority": "P0",
      "story_points": 3,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": "2025-11-19T09:00:00Z",
      "completed_at": "2025-11-19T16:00:00Z",
      "context": "Tela de login com botão 'Sign in with Microsoft'",
      "acceptance_criteria": [
        "Componente LoginView.vue criado",
        "Design conforme Figma",
        "Loading states implementados",
        "Error handling implementado"
      ],
      "dependencies": [],
      "notes": "Componente em src/views/auth/LoginView.vue"
    },
    {
      "id": "TASK-004",
      "title": "Implementar OAuth2 flow no backend",
      "agent": "FastAPI Agent",
      "status": "IN_PROGRESS",
      "priority": "P0",
      "story_points": 5,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": "2025-11-20T09:00:00Z",
      "completed_at": null,
      "context": "Endpoints para callback, token exchange e validação",
      "acceptance_criteria": [
        "Endpoint /auth/microsoft/callback implementado",
        "Token exchange com Microsoft Graph funcional",
        "JWT tokens gerados corretamente",
        "User info armazenado no banco"
      ],
      "dependencies": ["TASK-001", "TASK-002"],
      "notes": "Em progresso. Middleware de validação JWT implementado. Falta implementar refresh token."
    },
    {
      "id": "TASK-005",
      "title": "Implementar refresh token mechanism",
      "agent": "FastAPI Agent",
      "status": "IN_PROGRESS",
      "priority": "P0",
      "story_points": 3,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": "2025-11-20T14:00:00Z",
      "completed_at": null,
      "context": "Mecanismo para renovar tokens expirados sem novo login",
      "acceptance_criteria": [
        "Endpoint /auth/refresh implementado",
        "Refresh tokens armazenados com segurança",
        "Rotação de refresh tokens implementada",
        "Expiração configurável"
      ],
      "dependencies": ["TASK-004"],
      "notes": "Aguardando conclusão de TASK-004 para integrar"
    },
    {
      "id": "TASK-006",
      "title": "Testes E2E de autenticação",
      "agent": "QA Agent",
      "status": "TODO",
      "priority": "P1",
      "story_points": 3,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": null,
      "completed_at": null,
      "context": "Suite completa de testes de autenticação",
      "acceptance_criteria": [
        "Teste de login completo",
        "Teste de refresh token",
        "Teste de logout",
        "Teste de sessão expirada",
        "Cobertura > 80%"
      ],
      "dependencies": ["TASK-004", "TASK-005"],
      "notes": ""
    },
    {
      "id": "TASK-007",
      "title": "Deploy em ambiente staging",
      "agent": "DevOps Agent",
      "status": "TODO",
      "priority": "P1",
      "story_points": 2,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": null,
      "completed_at": null,
      "context": "Deploy da autenticação para validação interna",
      "acceptance_criteria": [
        "Container atualizado no ACR",
        "Deploy no staging bem-sucedido",
        "Variáveis de ambiente configuradas",
        "Health checks passando"
      ],
      "dependencies": ["TASK-006"],
      "notes": ""
    },
    {
      "id": "TASK-008",
      "title": "Documentação técnica de autenticação",
      "agent": "FastAPI Agent",
      "status": "TODO",
      "priority": "P2",
      "story_points": 2,
      "created_at": "2025-11-18T10:00:00Z",
      "started_at": null,
      "completed_at": null,
      "context": "Documentar setup e uso da autenticação",
      "acceptance_criteria": [
        "README.md atualizado",
        "Diagramas de fluxo criados",
        "Variáveis de ambiente documentadas",
        "Troubleshooting guide criado"
      ],
      "dependencies": ["TASK-004", "TASK-005"],
      "notes": ""
    }
  ]
}
